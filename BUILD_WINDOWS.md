# Инструкция по сборке Windows приложения

## Требования

- Windows 10 или новее
- Node.js (версия 14 или выше) - [скачать](https://nodejs.org/)
- Git (опционально, для клонирования репозитория)

## Шаг 1: Подготовка проекта

### Вариант A: Если проект уже на Windows

1. Откройте папку с проектом в проводнике
2. Откройте PowerShell или Command Prompt в этой папке:
   - Нажмите `Shift + Правый клик` в папке
   - Выберите "Открыть окно PowerShell здесь" или "Открыть в терминале"

### Вариант B: Если проект на другом компьютере

1. Скопируйте всю папку проекта на Windows компьютер
2. Убедитесь, что скопированы все файлы:
   - `index.html`
   - `package.json`
   - `electron-main.js`
   - `main.js`
   - `style.css`
   - `dxf-loader.js`
   - `svg-loader.js`
   - `canvas-renderer.js`
   - `ui-controller.js`
   - `Sketch_base.dxf`
   - И другие файлы проекта

## Шаг 2: Установка Node.js

1. Скачайте Node.js с [официального сайта](https://nodejs.org/)
2. Установите (выберите LTS версию)
3. Проверьте установку:
   ```powershell
   node --version
   npm --version
   ```

## Шаг 3: Установка зависимостей

Откройте терминал (PowerShell или CMD) в папке проекта и выполните:

```powershell
npm install
```

Это установит:
- Electron
- electron-packager

**Время установки:** 2-5 минут (зависит от скорости интернета)

## Шаг 4: Тестирование приложения

Перед сборкой проверьте, что приложение работает:

```powershell
npm start
```

Должно открыться окно приложения. Если всё работает, закройте окно и переходите к следующему шагу.

## Шаг 5: Сборка EXE файла

Выполните команду сборки:

```powershell
npm run build
```

**Время сборки:** 3-10 минут (зависит от скорости компьютера)

## Результат

После успешной сборки в папке проекта появится:

```
dist/
└── BeadingPatternEditor-win32-x64/
    ├── BeadingPatternEditor.exe  ← Это готовое приложение!
    ├── resources/                ← Ваши файлы (HTML, JS, CSS, DXF)
    ├── locales/                  ← Локализация
    └── ...                       ← Другие файлы Electron
```

## Шаг 6: Проверка EXE файла

1. Перейдите в папку `dist\BeadingPatternEditor-win32-x64`
2. Дважды кликните на `BeadingPatternEditor.exe`
3. Приложение должно запуститься

## Распространение

### Вариант 1: Архив (простой способ)

1. Заархивируйте всю папку `BeadingPatternEditor-win32-x64` (ZIP или RAR)
2. Отправьте архив
3. Получатель распаковывает и запускает `.exe`

### Вариант 2: Установщик (профессиональный способ)

Для создания установщика можно использовать:
- **electron-builder** - более продвинутый инструмент
- **Inno Setup** - классический установщик для Windows

## Размер приложения

Готовое приложение будет весить примерно **100-150 МБ**. Это нормально для Electron приложений, так как включает в себя:
- Electron runtime
- Chromium браузер
- Node.js

## Устранение проблем

### Ошибка "npm не является внутренней или внешней командой"

**Решение:** Node.js не установлен или не добавлен в PATH. Переустановите Node.js и убедитесь, что выбрали опцию "Add to PATH" при установке.

### Ошибка "Cannot find module 'electron'"

**Решение:** Выполните `npm install` еще раз.

### Ошибка при запуске EXE

**Решение:** 
- Убедитесь, что все файлы из папки `BeadingPatternEditor-win32-x64` находятся вместе с `.exe`
- Не перемещайте только `.exe` файл отдельно - нужна вся папка

### Антивирус блокирует EXE

**Решение:** Это нормально для новых приложений. Добавьте исключение в антивирус или временно отключите его.

## Дополнительные настройки

### Изменение имени приложения

Откройте `package.json` и измените:
```json
"name": "beading-pattern-editor"
```

И в команде сборки:
```json
"build": "electron-packager . ВашеИмя --platform=win32 ..."
```

### Добавление иконки

1. Создайте файл `icon.ico` (256x256 пикселей)
2. Раскомментируйте строку в `electron-main.js`:
   ```javascript
   icon: path.join(__dirname, 'icon.ico')
   ```
3. Пересоберите приложение

### Изменение размеров окна

Отредактируйте `electron-main.js`:
```javascript
width: 1400,  // Ваша ширина
height: 900,  // Ваша высота
```

## Готово!

Теперь у вас есть готовое Windows приложение, которое можно распространять.

---

**Примечание:** Если возникнут проблемы, проверьте консоль на наличие ошибок и убедитесь, что все файлы проекта на месте.
